/***********************************
*  Custom inline form based on BS  *
************************************/

form {
  .stb-form-group {

  	.form-group(); //Adds sane margins

    vertical-align: middle;
    margin-bottom: 0;
  	input {
      .form-control();
      // tweak the default BS transition-speed:
      .transition(~"all ease-in-out .025s, box-shadow ease-in-out .025s");
      border-radius: 0px;
	    height: 48px;
	    margin-bottom: 24px;

      &:hover {
        color: @stb-secondary-charcoal;
        border-color: @stb-secondary-charcoal;
        &[disabled] {
          border-color: @stb-gray-third;
        }
      }

      &:focus , &.has-submit:focus {
        border-color: #66afe9;
    	  // Color from Bootstrap ( We dont have this color defined in our palette.)
      }
    }

    > input.input-success {
      border: 1px solid  @stb-secondary-forest;
    }
    
    > input.input-fail {
      .stbcolor-background .first;
    }
 
    textarea {
      margin-bottom: 24px;
    }

    // input and buttons line up with no spacing:
 
    button.is-submit {
      height: 48px;
      float: left;
      margin-left: 6px;
    }
    
    > .error-message {
	    margin-bottom: 6px;
	    font-weight: 500;
 	    span.warning {
 	      margin-bottom: -3px;
      }
    }


    >label {
      margin-bottom: 6px;
      display: block;
    }

    // Ok colors
    &.valid {
      input {
        background-color: @stb-background-mint;
        border-color: @stb-outline-lime;
        color: @stb-primary-black;        
      }
    }

    &.has-success{
      input{
        border: 1px solid  @stb-secondary-forest;
      }
    }

    &.has-error{
      input{
        .stbcolor-background .first;
      }
    }
  } //end:stb-form-group

 
  input:disabled {
  	background-color: @stb-gray-second;
    color: @stb-gray-third;
     &:hover, &:active, &:focus {
      // No change for disabled buttons
    }
  }
  
  button:disabled {
    background-color: @stb-gray-second !important;
    color: @stb-primary-black;
    cursor: not-allowed;
    &:hover, &:active, &:focus {
      // No change for disabled input fields
    }
  }

}


.stb-form-inline {

  .form-inline();
  .stb-form-group {
    display: inline-block;
    input {
      float: left;
    }
  }

}

.stb-form {
  button:disabled {
    background-color: @stb-gray-third !important;
    color: @stb-primary-black;
    cursor: not-allowed;

    &:hover, &:active, &:focus {
      // No change for disabled buttons
    }
  }

  input[type=checkbox].stb-checkbox {
    display: block !important;
    visibility: hidden;
  }
}

/***************************************************
* Fairly standard radio buttons and checkboxes     *
***************************************************/

input[type=radio].stb-radio {
  visibility: hidden;

  & + label {
    display: inline-block;
    margin: -2px;
    padding: 8px 20px 8px 28px;
    border: solid 1px @stb-gray-second;
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-secondary-sand;
    background-position: -6px -160px;
  }

  &:checked + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-primary-white;
    background-position: -6px -200px;
  }

  &:disabled + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-gray-second;
    background-position: -6px -160px;
    color: @stb-gray-fourth;
  }

  & + i + label {
    display: inline-block;
    margin: -2px;
    padding: 8px 20px 8px 28px;
    border: solid 1px @stb-gray-second;
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-secondary-sand;
    background-position: -6px -160px;
  }

  &:checked + i + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-primary-white;
    background-position: -6px -200px;
  }

  &:disabled + i +label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-gray-second;
    background-position: -6px -160px;
    color: @stb-gray-fourth;
  }
}

input[type=checkbox].stb-checkbox {
  display: none; 

  & + label {
    display: inline-block; 
    margin: -2px;
    padding: 8px 20px 8px 28px;
    border: solid 1px @stb-gray-second;
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-secondary-sand;
    background-position: -6px 0px;
  }
  
  &:checked + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-primary-white;
    background-position: -6px -40px;
  }
  
  &:disabled + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-gray-second;
    background-position: -6px 0px;
    color: @stb-gray-fourth;
  }
  & + i + label {
    display: inline-block;
    margin: -2px;
    padding: 8px 20px 8px 28px;
    border: solid 1px @stb-gray-second;
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-secondary-sand;
    background-position: -6px 0px;
  }

  &:checked + i + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-primary-white;
    background-position: -6px -40px;
  }

  &:disabled + i + label {
    background: url(../images/stb-form-sprites-transparent.png) -8px 0px no-repeat @stb-gray-second;
    background-position: -6px 0px;
    color: @stb-gray-fourth;
  }
}